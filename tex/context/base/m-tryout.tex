%D \module
%D   [       file=m-tryout,
%D        version=2002.05.10,
%D          title=\CONTEXT\ Extra Modules,
%D       subtitle=Tryout Features,
%D         author=Hans Hagen,
%D           date=\currentdate,
%D      copyright={PRAGMA / Hans Hagen \& Ton Otten}]
%C
%C This module is part of the \CONTEXT\ macro||package and is
%C therefore copyrighted by \PRAGMA. See mreadme.pdf for
%C details.

\endinput

\unprotect

%D The following macros make sure that active colons work well
%D in French, a feature enabled with:
%D
%D \starttyping
%D \useencoding[ffr] \mainlanguage[fr]
%D \stoptyping
%D
%D This trick will disappear when proved robust.

\startmode[activecolon]

% this is now default

\gdef\sectionseparator{-}

\gdef\@@filterfirstpart      [#1--#2]{#1}
\gdef\@@filtersecondpart     [#1--#2]{#2}

\gdef\@@filterblockpart      [#1--#2--#3]{#1}
\gdef\@@filternumberpart     [#1--#2--#3]{#2}
\gdef\@@filterpagepart       [#1--#2--#3]{#3}
\gdef\@@filterblocknumberpart[#1--#2--#3]{#1--#2}

\gdef\@@filterheadpart[#1]{\@EA\@@dofilterheadpart\@EA[#1-0]}
\gdef\@@filtertailpart[#1]{\@EA\@@dofiltertailpart\@EA[#1-0]}

\gdef\@@dofilterheadpart[#1-#2]{#1}
\gdef\@@dofiltertailpart[#1-#2]{#2}

\gdef\@@filterlevelpart[#1--#2--#3]{\@@dofilterlevelpart[#2-0-0-0-0]}

\gdef\@@dofilterlevelpart[#1-0-0-0-#2]{#1}

\reopenutilities

\stopmode

\protect \endinput
