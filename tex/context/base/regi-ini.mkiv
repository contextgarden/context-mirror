%D \module
%D   [       file=regi-ini,
%D        version=2005.04.25,
%D          title=\CONTEXT\ Regime Macros,
%D       subtitle=Regime Support,
%D         author=Hans Hagen,
%D           date=\currentdate,
%D      copyright=PRAGMA]
%C
%C This module is part of the \CONTEXT\ macro||package and is
%C therefore copyrighted by \PRAGMA. See mreadme.pdf for
%C details.

\registerctxluafile{regi-ini}{1.001}

\unprotect

%D \macros
%D   {enableregime,disableregime,currentregime}
%D
%D Beware, the enable and disable commands are global switches, so
%D best use the start|/|stop commands.

\unexpanded\def\enableregime[#1]{\ctxcommand{enableregime("#1")}}
\unexpanded\def\disableregime   {\ctxcommand{disableregime()}}
\unexpanded\def\startregime [#1]{\ctxcommand{startregime("#1")}}
\unexpanded\def\stopregime      {\ctxcommand{stopregime()}}
           \def\currentregime   {\ctxcommand{currentregime()}}

% D \macros
% D   {defineregimesynonym,trueregimename}
%
% \unexpanded\def\defineregimesynonym % more or less obsolete
%   {\dodoubleargument\dodefineregimesynonym}
%
% \def\dodefineregimesynonym[#1][#2]%
%   {\ctxlua{regimes.setsynonym("#1","#2")}}
%
% \def\trueregimename#1%
%   {\ctxcommand{trueregimename("#1")}}

% D \macros
% D   {useregime}
% D
% D This one is sort of obsolete but we keep them around.

\unexpanded\def\useregime[#1]{}

\protect \endinput
